<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark">
    <title>CONTACT | 396 FOLIO</title>
    <link rel="icon" href="img/profile/profile_avatar.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/destyle.css@1.0.15/destyle.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="css/main.css">
    <script src="js/components.js" defer></script>
    <script src="js/main.js" defer></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" defer></script>
</head>

<body>
    <site-header></site-header>
    <main>
        <section class="container">
            <section-title title="CONTACT" center reveal></section-title>
            <glass-card reveal style="max-width: 700px; margin: 0 auto;">
                <form id="contact-form"
                    action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSfYEsQyqY1EzHRB7w8vg46BP_26vIJuk0lQjoJ_G1KD4qYslw/formResponse"
                    method="POST">
                    <p style="text-align: center; margin-bottom: 2rem; font-size: 0.9rem;">
                        *は必須項目です。入力すると送信ボタンがアクティブになります。<br>
                        <span style="color: var(--color-text-sub);">Fields marked with (*) are required.</span>
                    </p>

                    <div style="display: grid; gap: 1.5rem;">
                        <style>
                            .form-input {
                                width: 100%;
                                padding: 1rem;
                                border-radius: 8px;
                                border: 1px solid var(--color-border);
                                background: var(--glass-bg);
                                color: var(--color-text-main);
                                transition: 0.3s;
                                font-family: inherit;
                            }

                            .form-input:focus {
                                border-color: var(--color-indigo);
                                outline: none;
                                background: var(--color-surface);
                                box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
                            }

                            .btn-submit {
                                width: 100%;
                                padding: 1rem;
                                border-radius: 8px;
                                border: none;
                                background: var(--grad-main);
                                color: white;
                                font-weight: 500;
                                cursor: pointer;
                                transition: 0.3s;
                                opacity: 0.5;
                                pointer-events: none;
                                text-align: center;
                            }

                            .btn-submit.active {
                                opacity: 1;
                                pointer-events: auto;
                            }

                            .btn-submit.active:hover {
                                transform: translateY(-2px);
                                box-shadow: 0 8px 16px rgba(99, 102, 241, 0.3);
                            }
                        </style>
                        <input required class="form-input" type="text" name="entry.1564263618" placeholder="NAME*">
                        <input required class="form-input" type="email" name="entry.292870337" placeholder="EMAIL*">
                        <input required class="form-input" type="text" name="entry.1735355409" placeholder="SUBJECT*">
                        <textarea class="form-input" name="entry.1370003883" rows="5" placeholder="MESSAGE"></textarea>

                        <button type="button" id="submit-btn" class="btn-submit" onclick="postToGoogle()">Send
                            Message!</button>
                    </div>
                </form>
                </div>
        </section>
    </main>

    <script>
        // フォームバリデーションの簡易実装
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('contact-form');
            const submitBtn = document.getElementById('submit-btn');
            const requiredFields = form.querySelectorAll('[required]');

            const checkForm = () => {
                const allFilled = Array.from(requiredFields).every(f => f.value.trim() !== '');
                submitBtn.classList.toggle('active', allFilled);
            };

            form.addEventListener('input', checkForm);
        });

        function postToGoogle() {
            const form = $('#contact-form');
            $.ajax({
                url: form.attr('action'),
                data: form.serialize(),
                type: "POST",
                dataType: "xml",
                complete: function () {
                    window.location.href = "success.html";
                }
            });
        }
    </script>

    <site-footer></site-footer>
</body>

</html>